{#
This file is part of the CloudStack Client Generator.

(c) Quentin Pleplé <quentin.pleple@gmail.com>
(c) Aaron Hurt <ahurt@anbcs.com>
(c) Nathan Johnson <nathan@nathanjohnson.info>
(c) Daniel Carbone <daniel.p.carbone@gmail.com>
(c) Bogdan Gabor <bgabor@ena.com>

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.
#}
<?php

{{ namespace_stmt() }}

/*
 * This file was autogenerated as part of the CloudStack PHP Client.
 *
 * Date Generated: {{ now('Y-m-d') }}
 * API Version: {{ capabilities.capability.cloudstackversion }}
 *
 * (c) Quentin Pleplé {{ '<quentin.pleple@gmail.com>'|raw }}
 * (c) Aaron Hurt {{ '<ahurt@anbcs.com>'|raw }}
 * (c) Nathan Johnson {{ '<nathan@nathanjohnson.org>'|raw }}
 * (c) Daniel Carbone {{ '<daniel.p.carbone@gmail.com>'|raw }}
 * (c) Bogdan Gabor {{ '<bgabor@ena.com>'|raw }}
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */

/**
 * Class CloudStackHelpers
 */
abstract class CloudStackHelpers
{
    /**
     * @param array $data
     * @param string $name
     * @return array
     */
    public static function formatCSQueryArray(array $data, string $name): array
    {
        return static::formatCSQueryArrayHelper($data, $name, "", 0);
    }

    /**
     * @param array $data
     * @param string $name
     * @param string $prefix
     * @param int $ind
     * @return array
     */
    protected static function formatCSQueryArrayHelper(array $data, string $name, string $prefix, int $ind): array
    {
        $ret = [];
        if ($prefix == "") {
            $prefix = sprintf("%s[%d].", $name, $ind);
        }
        foreach ($data as $k => $v) {
            if (is_array($v)) {
                $ret = array_merge($ret, static::formatCSQueryArrayHelper($v, $name, $prefix, $ind));
                $prefix = sprintf("%s[%d].", $name, ++$ind);
            } else {
                $ret[$prefix.$k] = $v;
            }
        }
        return $ret;
    }
}